{"version":3,"sources":["Components/Join/Join.js","types.js","Components/InfoBar/InfoBar.js","Components/MessageSend/MessageSend.js","Components/MeesagesSection/MessagesSection.js","Components/Chat/Chat.js","App/App.js","index.js"],"names":["Join","props","context","useContext","Context","className","onSubmit","e","preventDefault","history","push","onJoinChat","htmlFor","type","name","value","chatDetailsState","onChange","dispatch","payload","target","required","room","InfoBar","roomname","href","MessageSend","message","sendMessage","setMessage","placeholder","onKeyPress","key","onClick","MessagesSection","socket","messages","map","item","index","user","text","Chat","useState","setMessages","useEffect","console","log","io","emit","res","error","chatDataAvail","off","on","intialState","reducer","state","action","React","createContext","App","useReducer","Provider","path","exact","component","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.652eedee.chunk.js","sourcesContent":["import React,{useState,useContext} from 'react';\r\nimport './Join.css';\r\nimport {Context} from '../../App/App';\r\nimport {ADD_NAME,ADD_ROOM} from '../../types';\r\n\r\nfunction Join(props) {\r\n\r\n\r\n    const onJoinChat=(e)=>{\r\n        e.preventDefault();\r\n        props.history.push('/chat');\r\n    }\r\n\r\n    const context = useContext(Context);\r\n\r\n    return (\r\n            <>\r\n\r\n            <div className=\"join-container\" onSubmit={(e)=>onJoinChat(e)}>\r\n                <form className=\"join-form\">\r\n                    <h2>Join Chat</h2>\r\n                    <label htmlFor=\"name\">Name</label>\r\n                    <input type=\"text\" name=\"name\" value={context.chatDetailsState.name} onChange={(e)=>{context.dispatch({type:ADD_NAME,payload:{name:e.target.value}})}} required/>\r\n                    <label htmlFor=\"room\">Room</label>\r\n                    <input type=\"text\" name=\"room\" value={context.chatDetailsState.room} onChange={(e)=>{context.dispatch({type:ADD_ROOM,payload:{room:e.target.value}})}} required/>\r\n                    <input type=\"submit\" className=\"submit\" value=\"Join\" />\r\n                </form>\r\n            </div>\r\n            </>\r\n    )\r\n}\r\n\r\nexport default Join\r\n","export const ADD_NAME = 'add_name';\r\nexport const ADD_ROOM = 'add_room';","import React from 'react';\r\nimport \"./InfoBar.css\";\r\nimport {Context} from '../../App/App';\r\nimport { FaRegWindowClose } from \"react-icons/fa\";\r\n\r\nfunction InfoBar(props) {\r\n    return (\r\n        <div className=\"infobar-container\">\r\n            <span className=\"room-name\">{props.roomname}</span>\r\n            <a className=\"close\" href=\"/\"><FaRegWindowClose/></a>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoBar\r\n","import React from 'react';\r\nimport './MessageSend.css';\r\nimport { MdSend } from \"react-icons/md\";\r\nfunction MessageSend({message,sendMessage,setMessage}) {\r\n    return (\r\n        <div className=\"messagesend-container\">\r\n            <input type=\"text\" placeholder=\"Type a message\"\r\n                value={message}\r\n                onChange={(e)=>setMessage(e.target.value)}\r\n                onKeyPress={e=>e.key === 'Enter' ? sendMessage(e) : null}\r\n            />\r\n            <span onClick={(e)=>{sendMessage(e)}}><MdSend/></span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageSend\r\n","import React from 'react';\r\nimport './MessagesSection.css';\r\nfunction MessagesSection({messages,name}) {\r\n    return (\r\n        <div className=\"messages-section-container\">\r\n\r\n            {\r\n                messages.map((item,index)=>{\r\n\r\n                    return(\r\n\r\n                        (item.user != name)?\r\n                        <div className=\"message-box-wrapper left\" key={index}>\r\n                            <div className=\"message-box\">\r\n                                <span className=\"user\">\r\n                                    {item.user}\r\n                                </span>\r\n                                <span className=\"message\">\r\n                                    {item.text}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n    \r\n                        :\r\n                        <div className=\"message-box-wrapper right\" key={index}>\r\n                        <div className=\"message-box\">\r\n                                <span className=\"message\">\r\n                                    {item.text}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n\r\n\r\n                })\r\n            }\r\n            {/* <div className=\"message-box-wrapper left\">\r\n                <div className=\"message-box\">\r\n                    <span className=\"user\">\r\n                        vishnu\r\n                    </span>\r\n                    <span className=\"message\">\r\n                        hello\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div className=\"message-box-wrapper right\">\r\n            <div className=\"message-box\">\r\n                    <span className=\"message\">\r\n                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Tempora ratione delectus corporis excepturi. Optio, ipsam! Eligendi nam nemo odio error sint exercitationem cumque voluptatem enim, neque voluptate voluptates veniam modi!\r\n                    </span>\r\n                </div>\r\n            </div> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessagesSection;\r\n","import React,{useContext,useEffect,useState} from 'react'\r\nimport \"./Chat.css\";\r\nimport io from 'socket.io-client';\r\nimport {Context} from '../../App/App';\r\nimport InfoBar from '../InfoBar/InfoBar';\r\nimport MessageSend from '../MessageSend/MessageSend';\r\nimport MessagesSection from '../MeesagesSection/MessagesSection';\r\n\r\nlet socket;\r\nfunction Chat(props) {\r\n\r\n    const ENDPOINT = 'http://localhost:5000';\r\n    // Context \r\n    const context = useContext(Context);\r\n    // message state to store message\r\n    // const [message, setMessage] = useState(\"\");\r\n    const [message, setMessage] = useState(' ');\r\n    // messages array to store messages\r\n    const [messages,setMessages] = useState([]);\r\n\r\n    useEffect(() => {\r\n        console.log(message);\r\n        socket = io(ENDPOINT);\r\n        socket.emit('join',{name:context.chatDetailsState.name,room:context.chatDetailsState.room}\r\n        ,\r\n        (res,error)=>{\r\n            if(res)\r\n                {if(!res.chatDataAvail)\r\n                    props.history.push('/');}\r\n\r\n            \r\n            });\r\n\r\n        return ()=>{\r\n            socket.emit('disconnect');\r\n            socket.off();\r\n        }\r\n\r\n    }, [ENDPOINT])\r\n\r\n    useEffect(() => {\r\n        console.log(messages);\r\n        socket.on('message',(message)=>{\r\n            setMessages([...messages,message]);\r\n            \r\n        })\r\n        // return () => {\r\n        // }\r\n    }, [messages]);\r\n\r\n    const sendMessage = (e) =>{\r\n        e.preventDefault();\r\n        if(message){\r\n            socket.emit('sendMessage',message,() => setMessage(''));\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"chat-container\">\r\n            <InfoBar roomname={context.chatDetailsState.room}/>\r\n            <MessagesSection messages={messages} name={context.chatDetailsState.name}/>\r\n            <MessageSend message={message} setMessage={setMessage} sendMessage={sendMessage} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n","import React,{useEffect, useReducer} from 'react';\r\nimport {BrowserRouter as Router,Route} from 'react-router-dom';\r\nimport './App.css'\r\nimport {ADD_NAME,ADD_ROOM} from '../types';\r\nimport Join from '../Components/Join/Join';\r\nimport Chat from '../Components/Chat/Chat';\r\n\r\nconst intialState ={\r\n    name:\"\",\r\n    room:\"\"\r\n}\r\n\r\nconst reducer = (state,action) =>{\r\n    switch(action.type){\r\n        case ADD_NAME:\r\n            return {...state,name:action.payload.name};\r\n        case ADD_ROOM:\r\n            return {...state,room:action.payload.room};\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\n    export const Context = React.createContext()\r\n    \r\n\r\nfunction App() { \r\n\r\n    const [chatDetailsState , dispatch] = useReducer(reducer,intialState)\r\n\r\nuseEffect(() => {\r\n    console.log(chatDetailsState);\r\n}, [chatDetailsState])\r\n\r\n\r\n    return (\r\n        <Context.Provider value={{ chatDetailsState, dispatch }}>\r\n            <div>\r\n                <Router>\r\n                    <Route path=\"/\" exact component={Join} />\r\n                    <Route path=\"/chat\" component={Chat} />\r\n                </Router>\r\n            </div>\r\n        </Context.Provider>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App/App'\r\n\r\n\r\n\r\nReactDOM.render(<App />,document.querySelector('#root'));"],"sourceRoot":""}